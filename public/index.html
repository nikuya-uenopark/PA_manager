<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="iPad対応バイト・パートスタッフ評価管理システム">
    <meta name="keywords" content="バイト,パート,評価,管理,スキル,進捗,iPad,タッチ">
    <meta name="author" content="PA Manager">
    
    <!-- PWA対応 -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="PA Manager">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="PA評価管理システム - iPad対応">
    <meta property="og:description" content="iPad対応バイト・パートスタッフ評価管理システム">
    
    <title>PA評価管理システム - iPad対応</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- PWAマニフェスト -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#007AFF">
    
    <!-- iPad用アイコン -->
    <link rel="apple-touch-icon" sizes="152x152" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 152 152'%3E%3Crect width='152' height='152' fill='%23007AFF'/%3E%3Ctext x='76' y='76' font-family='Arial' font-size='60' fill='white' text-anchor='middle' dominant-baseline='middle'%3EPA%3C/text%3E%3C/svg%3E">
</head>
<body>
    <!-- ローディング画面 -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>PA Manager</h2>
            <p>読み込み中...</p>
        </div>
    </div>

    <!-- メインアプリケーション -->
    <div id="app" class="app-container" style="display: none;">
        <!-- ヘッダー -->
        <header class="app-header">
            <div class="header-content">
                <h1><i class="fas fa-clipboard-check"></i> PA Manager</h1>
                <div class="header-actions">
                    <button class="btn btn-icon" onclick="refreshData()" title="データ更新">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="btn btn-icon" onclick="showSettings()" title="設定">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- タブナビゲーション -->
        <nav class="tab-navigation">
            <button class="tab-btn active" data-tab="staff" onclick="switchTab('staff')">
                <i class="fas fa-users"></i>
                <span>スタッフ</span>
            </button>
            <button class="tab-btn" data-tab="criteria" onclick="switchTab('criteria')">
                <i class="fas fa-list-check"></i>
                <span>評価項目</span>
            </button>
            <button class="tab-btn" data-tab="stats" onclick="switchTab('stats')">
                <i class="fas fa-chart-bar"></i>
                <span>統計</span>
            </button>
        </nav>

        <!-- タブコンテンツ -->
        <main class="main-content">
            <!-- スタッフタブ -->
            <div id="staffTab" class="tab-content active">
                <div class="tab-header">
                    <h2>スタッフ管理</h2>
                    <button class="btn btn-primary btn-large" onclick="showAddStaffModal()">
                        <i class="fas fa-plus"></i> 新規追加
                    </button>
                </div>
                <div id="staffGrid" class="staff-grid"></div>
            </div>

            <!-- 評価項目タブ -->
            <div id="criteriaTab" class="tab-content">
                <div class="tab-header">
                    <h2>評価項目管理</h2>
                    <button class="btn btn-secondary btn-large" onclick="showAddCriteriaModal()">
                        <i class="fas fa-plus"></i> 項目追加
                    </button>
                </div>
                <div id="criteriaGrid" class="criteria-grid"></div>
            </div>

            <!-- 統計タブ -->
            <div id="statsTab" class="tab-content">
                <div class="tab-header">
                    <h2>統計情報</h2>
                    <button class="btn btn-success btn-large" onclick="exportData()">
                        <i class="fas fa-download"></i> エクスポート
                    </button>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalStaff">0</h3>
                            <p>総スタッフ数</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-list"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalCriteria">0</h3>
                            <p>評価項目数</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="overallProgress">0%</h3>
                            <p>全体進捗率</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- スタッフ追加モーダル -->
    <div id="addStaffModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>新しいスタッフを追加</h3>
                <button class="modal-close" onclick="closeModal('addStaffModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addStaffForm" class="form">
                    <div class="form-group">
                        <label for="staffName">名前 *</label>
                        <input type="text" id="staffName" required class="form-input">
                    </div>
                    <div class="form-group">
                        <label for="staffPosition">役職/ポジション</label>
                        <select id="staffPosition" class="form-input">
                            <option value="">選択してください</option>
                            <option value="キッチン">キッチン</option>
                            <option value="ホール">ホール</option>
                            <option value="レジ">レジ</option>
                            <option value="店長">店長</option>
                            <option value="副店長">副店長</option>
                            <option value="その他">その他</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeModal('addStaffModal')">
                            キャンセル
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-plus"></i> 追加
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- 評価項目追加モーダル -->
    <div id="addCriteriaModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>新しい評価項目を追加</h3>
                <button class="modal-close" onclick="closeModal('addCriteriaModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addCriteriaForm" class="form">
                    <div class="form-group">
                        <label for="criteriaName">項目名 *</label>
                        <input type="text" id="criteriaName" required class="form-input" placeholder="例: 接客スキル">
                    </div>
                    <div class="form-group">
                        <label for="criteriaCategory">カテゴリー</label>
                        <select id="criteriaCategory" class="form-input">
                            <option value="基本スキル">基本スキル</option>
                            <option value="接客">接客</option>
                            <option value="調理">調理</option>
                            <option value="事務">事務</option>
                            <option value="管理">管理</option>
                            <option value="その他">その他</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="criteriaDescription">説明</label>
                        <textarea id="criteriaDescription" rows="3" class="form-input" placeholder="この項目の詳細説明"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeModal('addCriteriaModal')">
                            キャンセル
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-plus"></i> 追加
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- スタッフ詳細モーダル -->
    <div id="staffDetailModal" class="modal modal-large">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="staffDetailName"></h3>
                <button class="modal-close" onclick="closeModal('staffDetailModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div id="staffEvaluations" class="evaluations-grid"></div>
            </div>
        </div>
    </div>

    <!-- 設定モーダル -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>設定</h3>
                <button class="modal-close" onclick="closeModal('settingsModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <h4>データ管理</h4>
                    <div class="setting-actions">
                        <button class="btn btn-success btn-large" onclick="exportData()">
                            <i class="fas fa-download"></i> データエクスポート
                        </button>
                        <button class="btn btn-warning btn-large" onclick="showResetConfirm()">
                            <i class="fas fa-trash-alt"></i> データリセット
                        </button>
                    </div>
                </div>
                <div class="setting-group">
                    <h4>アプリ情報</h4>
                    <p>PA Manager v2.0</p>
                    <p>iPad最適化版</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 通知エリア -->
    <div id="notification" class="notification"></div>

    <script src="app.js"></script>
</body>
</html>
